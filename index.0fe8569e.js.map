{"mappings":"AAEA,MAEMA,EAAO,CACXC,MAAOC,SAASC,cAAc,eAC9BC,YAAaF,SAASC,cAAc,kBAYtC,SAASE,EAAeC,GACtB,OAAOC,MACL,uCAAuCD,qDACvCE,MAAKC,GACEA,EAAEC,SAbbC,QAAQC,IAAIZ,EAAKC,OAEjBD,EAAKC,MAAMY,iBAAiB,SAE5B,SAAiBC,GACfH,QAAQC,IAAI,OAAQE,EAAEC,OAAOC,OAC7BX,EAAe,GAAGS,EAAEC,OAAOC,SAASR,MAAKC,GAW3C,SAAuBQ,GACrB,GAAIA,EAAQC,OAAS,GACnB,OAAOC,MAAM,8DAEf,GAAIF,EAAQC,OAAS,GAAKD,EAAQC,QAAU,GAAI,CAC9C,MAAME,EAASH,EACZI,KACC,EAACC,MAAEA,EAAKhB,KAAEA,EAAIiB,QAAEA,EAAOC,WAAEA,KACvB,uCAAuCF,EAAMG,wBAAwBnB,EAAKoB,sBAE7EC,KAAK,IACR3B,EAAKI,YAAYwB,UAAYR,EAE/B,GAAuB,IAAnBH,EAAQC,OAAc,CACxB,MAAME,EAASH,EACZI,KACC,EAACC,MAAEA,EAAKhB,KAAEA,EAAIiB,QAAEA,EAAOC,WAAEA,EAAUK,UAAEA,KACnC,0BAA0BP,EAAMG,wBAC9BnB,EAAKoB,mDACoCH,sBAA4BC,qBAA8BM,OAAOC,OAC1GF,sBAGLF,KAAK,IACR3B,EAAKI,YAAYwB,UAAYR,GAnCeY,CAAcvB,QA8C9DJ,EAAe,MAAMG,MAAKC,GAAKE,QAAQC,IAAIH","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refs = {\n  input: document.querySelector('#search-box'),\n  countryList: document.querySelector('.country-list'),\n};\n\nconsole.log(refs.input);\n\nrefs.input.addEventListener('input', onInput);\n\nfunction onInput(e) {\n  console.log('that', e.target.value);\n  fetchCountries(`${e.target.value}`).then(r => renderCountry(r));\n}\n\nfunction fetchCountries(name) {\n  return fetch(\n    `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages `\n  ).then(r => {\n    return r.json();\n  });\n}\n\nfunction renderCountry(country) {\n  if (country.length > 10) {\n    return alert('Too many matches found. Please enter a more specific name.');\n  }\n  if (country.length > 2 || country.length <= 10) {\n    const markup = country\n      .map(\n        ({ flags, name, capital, population }) =>\n          `<li class=\"county-search\"><img src=\"${flags.svg}\" class=\"flag\"><p>${name.official}</p></li>`\n      )\n      .join('');\n    refs.countryList.innerHTML = markup;\n  }\n  if (country.length === 1) {\n    const markup = country\n      .map(\n        ({ flags, name, capital, population, languages }) =>\n          `<li class=\"\"><img src=\"${flags.svg}\" class=\"flag\"><p>${\n            name.official\n          }</p><div class=\"country-one\"><p>Capital:${capital}</p><p>Population:${population}</p><p>Languages:${Object.values(\n            languages\n          )}</p></div></li>`\n      )\n      .join('');\n    refs.countryList.innerHTML = markup;\n  }\n}\n\n// const r = fetch(\n//   `https://restcountries.com/v3.1/name/sw?fields=name,capital,population ,flags,languages `\n// )\n//   .then(r => r.json())\n//   .then(obj => console.log(obj));\n// console.log(r);\n\nfetchCountries('ua').then(r => console.log(r));\n"],"names":["$1f0dc3b9307be026$var$refs","input","document","querySelector","countryList","$1f0dc3b9307be026$var$fetchCountries","name","fetch","then","r","json","console","log","addEventListener","e","target","value","country","length","alert","markup","map","flags","capital","population","svg","official","join","innerHTML","languages","Object","values","$1f0dc3b9307be026$var$renderCountry"],"version":3,"file":"index.0fe8569e.js.map"}